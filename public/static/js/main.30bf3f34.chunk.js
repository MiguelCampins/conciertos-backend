(this["webpackJsonpconciertos-frontend"]=this["webpackJsonpconciertos-frontend"]||[]).push([[0],{116:function(e,t,c){},123:function(e,t,c){},124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){},134:function(e,t,c){},177:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){},182:function(e,t,c){},183:function(e,t,c){},184:function(e,t,c){},185:function(e,t,c){},186:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},195:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},209:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(18),s=c.n(a),r=c(92),i=c(2),o=c(6),l=c(13),d=c(7),j=c.n(d),u="https://conciertos-app.herokuapp.com/",b=function(){return new Promise((function(e,t){j.a.get("".concat(u,"/concert")).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},h=function(e){return new Promise((function(t,c){j.a.get("".concat(u,"/concert/").concat(e)).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))},m=function(e){return new Promise((function(t,c){j.a.get("".concat(u,"/concert/remainingTickets/").concat(e)).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))},O=function(e){return new Promise((function(t,c){j.a.put("".concat(u,"/concert/").concat(e._id),e).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))},x=function(e){return new Promise((function(t,c){j.a.post("".concat(u,"/user/register"),{user:e}).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))},f=function(e){return new Promise((function(t,c){j.a.put("".concat(u,"/user/").concat(e._id),e).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))},p=function(){return new Promise((function(e,t){j.a.get("".concat(u,"/role")).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},v=(c(116),c.p+"static/media/logo.4675b311.png"),g=c(222),N=c(0),w=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(g.a,{animation:"border",variant:"secondary",size:"sm"})})},y=c(26),k=c.n(y),S=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(n.useState)({}),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),p=f[0],g=f[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),C=S[0],E=S[1],P=Object(n.useState)(!1),T=Object(i.a)(P,2),U=T[0],_=T[1],I=Object(o.l)().state,q=Object(o.k)(),A=function(e,t){e&&t&&(E(!0),O({}),function(e,t){return new Promise((function(c,n){j.a.post("".concat(u,"/user/login"),{email:e,password:t}).then((function(e){c(e.data)})).catch((function(e){n(e)}))}))}(e,t).then((function(e){localStorage.setItem("user",JSON.stringify(null===e||void 0===e?void 0:e.user)),localStorage.setItem("token",null===e||void 0===e?void 0:e.token),I&&I.previousUrl||q.push("/backofficeUser"),q.push(I.previousUrl),window.location.reload()})).catch((function(e){console.warn(e),g(!0)})).finally((function(){E(!1)})))},D=function(e){"mousedown"===e.type?_(!0):_(!1)};return Object(N.jsx)("div",{className:"login-container",children:Object(N.jsx)("div",{className:"login-container-form",children:Object(N.jsxs)("div",{className:"login-form",children:[Object(N.jsx)("img",{alt:"img",src:v}),Object(N.jsx)("input",{className:m.email&&"error",type:"email",placeholder:"email",value:c,onChange:function(e){return a(e.target.value)},disabled:C}),Object(N.jsxs)("div",{className:"input-password",style:m.password&&{border:"2px solid red"},children:[Object(N.jsx)("input",{type:U?"text":"password",placeholder:"contrase\xf1a",value:l,onChange:function(e){return d(e.target.value)},disabled:C}),Object(N.jsx)(k.a,{onMouseDown:D,onMouseUp:D,style:{color:"grey",width:"20px",cursor:"pointer"}})]}),p&&Object(N.jsx)("div",{className:"error-login",children:"La contrase\xf1a o el email son incorrectos"}),Object(N.jsxs)("button",{disabled:C,onClick:function(){var e={};c||(e.hasError=!0,e.email=!0),l||(e.hasError=!0,e.password=!0),e.hasError?O(e):A(c,l)},children:[C&&Object(N.jsx)(w,{})," Acceder"]})]})})})},C=(c(123),c.p+"static/media/pien-muller-Fh-Q-xfdh_o-unsplash.a55b2e95.jpg"),E=function(e){return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)},P=function(e){return new RegExp(/^\d{9}$/).test(e)},T=function(e){return new RegExp(/^[a-zA-Z]+(([',. -\xf1][a-zA-Z ])?[a-zA-Z]*)*$/).test(e)},U=function(e){return new RegExp(/^[0-9]*$/).test(e)},_=function(e){return e.split("-").reverse().join("-")},I=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],q=function(e){var t=e.split("-"),c=t[1];return I[Number(c)]+"-"+t[0]},A=function(e){var t=e.concert,c=t.name,n=t.imageUrl,a=t.date,s=t.city;return Object(N.jsxs)("div",{className:"card-concert","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-delay":"100","data-aos-duration":"1500",children:[Object(N.jsx)(l.Link,{to:"/concert?id=".concat(t._id),children:n?Object(N.jsx)("img",{alt:"img-concert",src:n}):Object(N.jsx)("img",{alt:"img-concert",src:C})}),Object(N.jsxs)("div",{className:"card-concert-text",children:[Object(N.jsx)("p",{style:{fontSize:"30px"},children:Object(N.jsx)("b",{children:c})}),Object(N.jsx)("p",{children:_(a)}),Object(N.jsxs)("p",{children:["En la ciudad de ",s]})]})]})},D=c(16),X=(c(124),function(e){var t=e.href,c=e.src,n=e.name;return Object(N.jsx)("div",{className:"card-mini-container",children:Object(N.jsxs)(D.a,{href:t,children:[Object(N.jsx)("img",{alt:"img",src:c}),Object(N.jsx)("h4",{children:n})]})})}),M=(c(125),c(78)),R=c.n(M),z=c(80),F=c.n(z),L=c(79),H=c.n(L),V=c(39),B=c.n(V),J=function(){return Object(N.jsxs)("div",{className:"footer-container",children:[Object(N.jsxs)("div",{className:"footer-logo",children:[Object(N.jsx)("img",{alt:"logo",src:v}),Object(N.jsx)("h3",{children:"TicketClick"})]}),Object(N.jsxs)("div",{className:"footer-info",children:[Object(N.jsx)("h4",{children:"Cont\xe1ctanos"}),Object(N.jsx)("span",{children:"Lamar:+34 971 472 145"}),Object(N.jsx)("a",{href:"tel:+34649211654",children:"M\xf3vil:+34 649 211 654"}),Object(N.jsx)("a",{href:"mailto:sales@TicketClick.com",children:"Email: sales@TicketClick.com"})]}),Object(N.jsxs)("div",{className:"footer-info",children:[Object(N.jsx)("h4",{children:"D\xf3nde nos encontrar\xe1s?"}),Object(N.jsx)(D.a,{href:"https://www.google.com/maps/@-33.7555248,150.6036152,17.26z",children:Object(N.jsx)("span",{children:"Calle Wallaby 42, sidney"})}),Object(N.jsxs)("div",{className:"iconos",children:[Object(N.jsx)(D.a,{href:"https://es-es.facebook.com",children:Object(N.jsx)(R.a,{})}),Object(N.jsx)(D.a,{href:"https://www.instagram.com",children:Object(N.jsx)(H.a,{})}),Object(N.jsx)(D.a,{href:"https://outlook.live.com",children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(D.a,{href:"https://github.com",children:Object(N.jsx)(F.a,{})})]})]}),Object(N.jsxs)("div",{className:"footer-info",children:[Object(N.jsx)("h4",{children:"Pol\xedtica de privacidad"}),Object(N.jsx)("span",{children:"Protecci\xf3n de datos"}),Object(N.jsx)("span",{children:"Mas info+"})]})]})},Q=(c(126),function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){new Promise((function(e,t){j.a.get("".concat(u,"/concert/filter?published=true")).then((function(t){e(t.data)})).catch((function(e){t(e)}))})).then((function(e){a(e)})).catch((function(e){console.warn(e)}))}),[]),Object(N.jsxs)("div",{className:"home-container",children:[Object(N.jsx)("div",{className:"home-header",children:Object(N.jsxs)("div",{"data-aos":"flip-left","data-aos-easing":"linear","data-aos-duration":"1500",className:"tag-entradas",children:[Object(N.jsx)("h2",{className:"neon",children:"AC/DC"}),Object(N.jsx)("p",{className:"flux",children:"PWR/UP the new album"}),Object(N.jsx)(l.Link,{to:"/concert?id=60a2a8a232b11c1c58ba7918",children:"ENTRADAS"})]})}),Object(N.jsxs)("div",{className:"home-body-container",children:[Object(N.jsx)("div",{className:"home-body",children:c&&c.map((function(e,t){return Object(N.jsx)(A,{concert:e},t)}))}),Object(N.jsxs)("div",{className:"home-body-right",children:[Object(N.jsx)("div",{className:"home-body-right-anuncio"}),Object(N.jsxs)("div",{className:"home-body-right-tittle",children:[Object(N.jsx)("h4",{children:Object(N.jsx)("b",{children:"DESTACADOS"})}),Object(N.jsx)("div",{className:"line"})]}),Object(N.jsx)(X,{href:"https://www.ticketmaster.es/feature/indiemaster/?int_cmp_name=Indiemaster&int_cmp_id=ES-Home-501&int_cmp_creative=Home-featured-3&tm_link=tm_ccp_Home_featured_Indiemaster",src:"https://uk.tmconst.com/ccp-salesforce-images/ES/indiemaster19720x405_1.jpg?auto=webp",name:"Indiemaster"}),Object(N.jsx)(X,{href:"https://www.ticketmaster.es/feature/metalmaster/?int_cmp_name=Metalmaster&int_cmp_id=ES-Home-501&int_cmp_creative=Home-featured-4&tm_link=tm_ccp_Home_featured_Metalmaster",src:"https://uk.tmconst.com/ccp-salesforce-images/ES/metalmaster19720x405.jpg?auto=webp",name:"Metalmaster"}),Object(N.jsx)(X,{href:"https://www.ticketmaster.es/",src:"https://e00-elmundo.uecdn.es/assets/multimedia/imagenes/2018/06/28/15301762581939.png",name:"Ticketmaster"})]})]}),Object(N.jsx)("h3",{children:"Sobre nosotros"}),Object(N.jsxs)("div",{className:"home-about-us",children:[Object(N.jsx)("div",{className:"home-about-us-img-wrapper",children:Object(N.jsx)("div",{className:"home-about-us-img"})}),Object(N.jsxs)("div",{className:"home-about-us-text",children:[Object(N.jsx)("p",{children:"Ticketclick es la empresa espa\xf1ola l\xedder en la venta de entradas. Somos referentes en el mundo del ocio y la cultura, y ofrecemos la mayor variedad de enventos: m\xfasica, teatro, musicales, cine, deporte, parques, ocio infantil, museos, exposiciones, circo, shows y todo tipo de espect\xe1culos. Todas nuestras entradas son oficiales y distribuidas seg\xfan acuerdos comerciales directos con los promotores / organizadores de los eventos."}),Object(N.jsx)("a",{href:"/aboutUs",children:"Mostrar mas"})]})]}),Object(N.jsx)(J,{})]})}),$=(c(127),c(128),c.p+"static/media/pngegg.f82c7765.png"),Z=c(223),Y=(c(129),function(e){var t=e.show,c=e.onCancel,a=e.onUpdatePassword,s=e.id,r=e.passworInvalid,o=e.loading,l=Object(n.useState)(""),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),p=f[0],v=f[1],g=Object(n.useState)({}),y=Object(i.a)(g,2),S=y[0],C=y[1],E=Object(n.useState)(!1),P=Object(i.a)(E,2),T=P[0],U=P[1],_=function(){c(),u(""),O(""),v(""),C({})},I=function(e){"mousedown"===e.type?U(!0):U(!1)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Z.a,{show:t,onHide:_,children:[Object(N.jsx)("h3",{children:"Cambio de contrase\xf1a"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"my-modal-body",children:[Object(N.jsx)("label",{htmlFor:"password-one",children:"Contrase\xf1a actual*"}),Object(N.jsxs)("div",{className:"password-input",style:S.password&&{border:"2px solid red"},children:[Object(N.jsx)("input",{id:"password-one",type:T?"text":"password",value:j,onChange:function(e){return u(e.target.value)},disabled:o}),Object(N.jsx)(k.a,{onMouseDown:I,onMouseUp:I,style:{color:"grey",width:"20px",cursor:"pointer"}})]}),r&&Object(N.jsx)("span",{children:"Contrase\xf1a incorrecta"}),Object(N.jsx)("label",{htmlFor:"password-two",children:"Nueva contrase\xf1a*"}),Object(N.jsx)("input",{className:S.newPassword||S.comparePassword?"error":"",id:"password-two",type:"password",value:m,onChange:function(e){return O(e.target.value)},disabled:o}),Object(N.jsx)("label",{htmlFor:"password-confirm",children:"Confirmar nueva contrase\xf1a*"}),Object(N.jsx)("input",{className:S.newPasswordConfirm||S.comparePassword?"error":"",id:"password-confirm",type:"password",value:p,onChange:function(e){return v(e.target.value)},disabled:o})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"my-modal-footer",children:[Object(N.jsx)("button",{disabled:o,onClick:_,children:"Cancelar"}),Object(N.jsxs)("button",{disabled:o,onClick:function(){var e={};j||(e.hasErr=!0,e.password=!0),m||(e.hasErr=!0,e.newPassword=!0),p||(e.hasErr=!0,e.newPasswordConfirm=!0),m!==p&&(e.hasErr=!0,e.comparePassword=!0),e.hasErr?C(e):(a(s,j,m),u(""),O(""),v(""),C({}))},children:[o&&Object(N.jsx)(w,{}),"Cambiar"]})]})]})})}),K=function(e){var t=e.user,c=e.onUpdateUser,a=e.emailDuplicate,s=e.setEmailDuplicate,r=e.loading,o=e.disabled,l=Object(n.useState)(t.name),d=Object(i.a)(l,2),b=d[0],h=d[1],m=Object(n.useState)(t.surnames),O=Object(i.a)(m,2),x=O[0],f=O[1],p=Object(n.useState)(t.email),v=Object(i.a)(p,2),g=v[0],y=v[1],k=Object(n.useState)(t.phone),S=Object(i.a)(k,2),C=S[0],U=S[1],_=Object(n.useState)(t.city),I=Object(i.a)(_,2),q=I[0],A=I[1],D=Object(n.useState)({}),X=Object(i.a)(D,2),M=X[0],R=X[1],z=Object(n.useState)(!0),F=Object(i.a)(z,2),L=F[0],H=F[1],V=Object(n.useState)(!1),B=Object(i.a)(V,2),J=B[0],Q=B[1],Z=Object(n.useState)(!1),K=Object(i.a)(Z,2),W=K[0],G=K[1],ee=Object(n.useState)(!1),te=Object(i.a)(ee,2),ce=te[0],ne=te[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"edit-user-container",children:[Object(N.jsxs)("div",{className:"edit-user-top",children:[Object(N.jsx)("div",{className:"edit-user-img",children:Object(N.jsx)("img",{alt:"img",src:$})}),Object(N.jsxs)("div",{className:"edit-user-text",children:[Object(N.jsx)("h2",{children:"Editar mi perfil"}),Object(N.jsx)("p",{children:"La direcci\xf3n de correo proporcionada ser\xe1 la direcci\xf3n de facturaci\xf3n y env\xedo de las entradas."})]})]}),Object(N.jsxs)("div",{className:"edit-user-form",children:[Object(N.jsxs)("div",{className:"edit-user-form-left",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Nombre*"}),Object(N.jsx)("input",{disabled:L,id:"name",className:M.name?"error":"",value:b,onChange:function(e){return h(e.target.value)}}),Object(N.jsx)("label",{htmlFor:"surnames",children:"Apellidos*"}),Object(N.jsx)("input",{disabled:L,id:"surnames",className:M.surnames?"error":"",value:x,onChange:function(e){return f(e.target.value)}}),Object(N.jsx)("label",{htmlFor:"phone",children:"Telefono*"}),Object(N.jsx)("input",{disabled:L,id:"phone",className:M.phone?"error":"",value:C,onChange:function(e){return U(e.target.value)}})]}),Object(N.jsxs)("div",{className:"edit-user-form-right",children:[Object(N.jsx)("label",{htmlFor:"city",children:"Ciudad*"}),Object(N.jsx)("input",{disabled:L,id:"city",className:M.city?"error":"",value:q,onChange:function(e){return A(e.target.value)}}),Object(N.jsx)("label",{htmlFor:"email",children:"Email*"}),Object(N.jsx)("input",{disabled:L,id:"email",className:M.email?"error":"",value:g,onChange:function(e){return y(e.target.value)}}),a?Object(N.jsx)("span",{children:"El email ya existe"}):"",Object(N.jsx)(Y,{show:J,onCancel:function(){Q(!1),G(!1)},onUpdatePassword:function(e,t,c){ne(!0),function(e,t,c){return new Promise((function(n,a){j.a.post("".concat(u,"/user/changePassword"),{_id:e,password:t,newPassword:c}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))}(e,t,c).then((function(e){Q(!1),G(!1)})).catch((function(e){e.response.data.message.includes("Invalid params")?G(!0):console.warn(e)})).finally((function(){ne(!1)}))},id:t._id,passworInvalid:W,loading:ce})]})]}),Object(N.jsx)("div",{className:"edit-user-form-buttons",children:L?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("button",{disabled:o,className:"button-edit",onClick:function(){return H(!1)},children:[r&&Object(N.jsx)(w,{}),"Editar perfil"]}),Object(N.jsx)("button",{disabled:o,className:"button-password",onClick:function(){return Q(!0)},children:"Cambiar contrase\xf1a"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("button",{className:"button-cancel",onClick:function(){H(!0),h(t.name),f(t.surnames),y(t.email),U(t.phone),A(t.city),s(!1),R({})},children:"Cancelar"}),Object(N.jsx)("button",{className:"button-confirm",onClick:function(){var e={};b&&T(b)||(e.hasError=!0,e.name=!0),x&&T(x)||(e.hasError=!0,e.surnames=!0),q&&T(q)||(e.hasError=!0,e.city=!0),C&&P(C)||(e.hasError=!0,e.phone=!0),g&&E(g)||(e.hasError=!0,e.email=!0),e.hasError?R(e):(H(!0),R({}),c({name:b,surnames:x,email:g,phone:C,city:q,_id:null===t||void 0===t?void 0:t._id}))},children:"Enviar"})]})})]})})},W=(c(131),function(e){var t=e.sale,c=e.onHandleTickets,a=Object(n.useState)(),s=Object(i.a)(a,2),r=s[0],o=s[1];Object(n.useEffect)((function(){h(t.concertId).then((function(e){o(e)})).catch((function(e){console.warn(e)}))}),[]);var l;return r&&r.published?Object(N.jsx)("div",{className:"card-sale-ticket-container",children:Object(N.jsxs)("div",{className:"card-sale-ticket",children:[Object(N.jsxs)("div",{className:"card-sale-ticket-date",children:[Object(N.jsx)("h3",{children:r&&(l=r.date,l.split("-")[2])}),Object(N.jsx)("span",{children:r&&q(r.date)}),Object(N.jsx)("span",{style:{color:"grey"},children:r&&r.hour})]}),Object(N.jsxs)("div",{className:"card-sale-ticket-info",children:[Object(N.jsx)("h4",{children:r&&r.name}),Object(N.jsxs)("span",{children:["En la ciudad de ",r&&r.city]})]}),Object(N.jsxs)("div",{className:"card-sale-ticket-price",children:[Object(N.jsxs)("span",{children:["Total entradas: ",t.quantity]}),Object(N.jsxs)("span",{children:[Object(N.jsx)("b",{children:"Total:"})," ",r&&r.ticketPrice*t.quantity," euros"]})]}),Object(N.jsx)("div",{className:"card-sale-ticket-button",children:Object(N.jsx)("button",{onClick:function(){return c(t.quantity,r)},children:"Ver"})})]})}):null}),G=c(82),ee=c.n(G),te=c(83),ce=c.n(te),ne=c(84),ae=c.n(ne),se=(c(132),function(e){var t=e.show,c=e.setShowAlert,n=e.tittle,a=e.onRedirect;return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"my-modal",children:[Object(N.jsx)("h3",{children:n}),Object(N.jsx)("hr",{}),Object(N.jsx)("button",{onClick:function(){c(!1),a()},children:"Aceptar"})]})})})}),re=(c(133),function(){var e=Object(o.k)();return Object(N.jsxs)("div",{className:"my-container",children:[Object(N.jsx)("h4",{children:"No tienes ning\xfan evento a la vista"}),Object(N.jsx)("p",{children:"Las entradas que compres aparecer\xe1n autom\xe1ticamente aqu\xed. \xa1Busca eventos y encuentra tus entradas!"}),Object(N.jsx)("button",{onClick:function(){return e.push("/")},children:"Buscar eventos"})]})}),ie=(c(134),c(40)),oe=c.n(ie),le=c(135),de=c(141),je=function(e){var t=e.onHandleTickets,c=e.numTickets,n=e.concertTicket,a=e.user,s=n.name,r=n.city,i=n.imageUrl,o=n.date,l=n.hour,d=n.ticketPrice;return Object(N.jsx)("div",{className:"tickets-container",children:Object(N.jsxs)("div",{className:"tickets-body",children:[Object(N.jsx)("div",{className:"tickets-cancel",children:Object(N.jsx)(oe.a,{style:{cursor:"pointer"},onClick:function(){return t(!1)}})}),c.map((function(e,t){return Object(N.jsxs)("div",{className:"ticket-container",children:[Object(N.jsxs)("div",{className:"ticket-info",children:[Object(N.jsx)("h1",{children:s}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Ciudad: "}),r]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Fecha: "}),_(o)]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Hora: "}),l,"h"]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Precio: "}),d,"\u20ac"]})]}),Object(N.jsx)("div",{className:"ticket-img",children:Object(N.jsx)("img",{alt:"img",src:i})}),Object(N.jsxs)("div",{className:"ticket-qr",children:[Object(N.jsxs)("div",{className:"ticket-qr-up",children:[Object(N.jsx)("span",{children:Object(N.jsx)("b",{children:"TICKETCLIK.COM"})}),Object(N.jsx)(le,{value:JSON.stringify({num:e,user:a.email}),size:150}),Object(N.jsx)("span",{style:{color:"grey"},children:Object(N.jsx)("b",{children:"SCAN AND ENJOY"})})]}),Object(N.jsx)("div",{className:"ticket-bar",children:Object(N.jsx)(de,{height:70,width:1,value:"http://ticketclick.com"})})]})]},t)}))]})})},ue="editar",be="entradas",he=function(){var e=Object(n.useState)(ue),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(n.useState)([]),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(!1),p=Object(i.a)(x,2),g=p[0],w=p[1],y=Object(n.useState)(!1),k=Object(i.a)(y,2),S=k[0],C=k[1],E=Object(n.useState)(!1),P=Object(i.a)(E,2),T=P[0],U=P[1],_=Object(n.useState)(!1),I=Object(i.a)(_,2),q=I[0],A=I[1],D=Object(n.useState)(!1),X=Object(i.a)(D,2),M=X[0],R=X[1],z=Object(n.useState)(),F=Object(i.a)(z,2),L=F[0],H=F[1],V=Object(n.useState)(),B=Object(i.a)(V,2),Q=B[0],$=B[1],Z=Object(o.l)().state,Y=Object(o.k)();Object(n.useEffect)((function(){var e;Z&&Z.redirectToTickets&&a(be),(e=l._id,new Promise((function(t,c){j.a.post("".concat(u,"/sale/filter"),{userId:e}).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))).then((function(e){O(e)})).catch((function(e){console.warn(e)}))}),[]),Object(n.useEffect)((function(){l&&localStorage.setItem("user",JSON.stringify(l))}),[l]);var G=function(e,t){R(!0),H(Array.from(Array(e).keys())),$(t)};return Object(N.jsxs)("div",{className:"user-container",children:[Object(N.jsxs)("div",{className:"user-header",children:[Object(N.jsx)("div",{className:"user-header-left",children:Object(N.jsxs)("div",{className:"user-header-left-text",children:[Object(N.jsx)("img",{alt:"img",src:v}),Object(N.jsx)("span",{children:"Bienvenido"}),Object(N.jsx)("span",{children:l.name})]})}),Object(N.jsxs)("div",{className:"user-header-right",children:[c===ue&&Object(N.jsx)("h1",{children:"Mi perfil"}),c===be&&Object(N.jsx)("h1",{children:"Entradas"})]})]}),Object(N.jsxs)("div",{className:"user-body",children:[Object(N.jsx)("div",{className:"user-body-left-container",children:Object(N.jsxs)("div",{className:"user-body-left",children:[Object(N.jsxs)("button",{onClick:function(){return a(ue)},children:[Object(N.jsx)(ee.a,{}),Object(N.jsx)("span",{children:"Editar perfil"})]}),Object(N.jsxs)("button",{onClick:function(){return a(be)},children:[Object(N.jsx)(ce.a,{}),Object(N.jsx)("span",{children:"Entradas"})]}),Object(N.jsxs)("button",{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("token"),Y.push("/"),void window.location.reload()},children:[Object(N.jsx)(ae.a,{}),Object(N.jsx)("span",{children:"Cerrar sesi\xf3n"})]})]})}),Object(N.jsxs)("div",{className:"user-body-right",children:[c===ue&&Object(N.jsx)(K,{onUpdateUser:function(e){var t=e.name,c=e.surnames,n=e.email,a=e.phone,s=e.city,r=e._id;t&&c&&n&&a&&s&&r&&(A(!0),U(!0),f(e).then((function(e){d(e),w(!0)})).catch((function(e){e.response.data.message.includes("email")?C(!0):console.warn(e)})).finally((function(){A(!1),U(!1)})))},user:l&&l,emailDuplicate:S,setEmailDuplicate:C,loading:q,disabled:T}),c===be&&((null===m||void 0===m?void 0:m.length)?m.map((function(e,t){return Object(N.jsx)(W,{sale:e,onHandleTickets:G},t)})):Object(N.jsx)(re,{}))]})]}),Object(N.jsx)(se,{tittle:"Usuario actualizado",show:g,setShowAlert:w,onRedirect:function(){Y.push("/user")}}),Object(N.jsx)(J,{}),M&&Object(N.jsx)(je,{onHandleTickets:R,numTickets:L&&L,concertTicket:Q,user:l})]})},me=c(23),Oe=(c(177),function(e){var t=e.show,c=e.onCloseModal,a=e.onCreateUser,s=e.emailDuplicate,r=e.loading,o=Object(n.useState)(),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(),x=Object(i.a)(O,2),f=x[0],v=x[1],g=Object(n.useState)(),y=Object(i.a)(g,2),k=y[0],S=y[1],C=Object(n.useState)(),U=Object(i.a)(C,2),_=U[0],I=U[1],q=Object(n.useState)(),A=Object(i.a)(q,2),D=A[0],X=A[1],M=Object(n.useState)(),R=Object(i.a)(M,2),z=R[0],F=R[1],L=Object(n.useState)([]),H=Object(i.a)(L,2),V=H[0],B=H[1],J=Object(n.useState)({}),Q=Object(i.a)(J,2),$=Q[0],Y=Q[1];Object(n.useEffect)((function(){p().then((function(e){B(e)})).catch((function(e){console.warn(e)}))}),[]);return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"create-form",children:[Object(N.jsx)("h1",{children:"Nuevo usuario"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"create-form-body",children:[Object(N.jsx)("input",{disabled:r,className:$.name&&"error",placeholder:"Nombre",type:"text",onChange:function(e){return j(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:$.surnames&&"error",placeholder:"Apellidos",type:"text",onChange:function(e){return m(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:$.email&&"error",placeholder:"Email",type:"email",onChange:function(e){return v(e.target.value)}}),s&&Object(N.jsx)("span",{children:"Email en uso"}),Object(N.jsx)("input",{disabled:r,className:$.password&&"error",placeholder:"Password",type:"password",onChange:function(e){return S(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:$.phone&&"error",placeholder:"Telefono",type:"text",onChange:function(e){return I(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:$.city&&"error",placeholder:"Ciudad",type:"text",onChange:function(e){return X(e.target.value)}}),Object(N.jsxs)("select",{disabled:r,className:$.rol&&"error",onChange:function(e){return F(e.target.value)},children:[Object(N.jsx)("option",{disabled:!0,selected:!0,children:"-- Tipo de usuario --"}),V&&V.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"create-form-footer",children:[Object(N.jsx)("button",{disabled:r,variant:"secondary",onClick:function(){return c()},children:"Cerrar"}),Object(N.jsxs)("button",{disabled:r,variant:"primary",onClick:function(){var e={};d&&T(d)||(e.hasError=!0,e.name=!0),h&&T(h)||(e.hasError=!0,e.surnames=!0),D&&T(D)||(e.hasError=!0,e.city=!0),_&&P(_)||(e.hasError=!0,e.phone=!0),f&&E(f)||(e.hasError=!0,e.email=!0),k||(e.hasError=!0,e.password=!0),z||(e.hasError=!0,e.rol=!0),e.hasError?Y(e):a({name:d,surnames:h,email:f,password:k,phone:_,city:D,userRoleId:z})},children:[r&&Object(N.jsx)(w,{}),"Crear usuario"]})]})]})})})}),xe=c(41),fe=c.n(xe),pe=c(42),ve=c.n(pe),ge=(c(178),c(179),function(e){var t=e.show,c=e.confirmDelete,n=e.setShowDeleteUserModal,a=e.item,s=e.index;return Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"my-modal-delete",children:[Object(N.jsx)("h4",{children:"Seguro que quieres borrar"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"botones",children:[Object(N.jsx)("button",{onClick:function(){return n(!1)},children:"Cancelar"}),Object(N.jsx)("button",{onClick:function(){return c(a,s)},children:"Borrar"})]})]})})}),Ne=function(e){var t=e.users,c=e.roles,a=e.onDeleteUser,s=e.onSelectUser,r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(),O=Object(i.a)(m,2),x=O[0],f=O[1],p=Object(n.useState)(),v=Object(i.a)(p,2),g=v[0],w=v[1];Object(n.useEffect)((function(){w(JSON.parse(localStorage.getItem("user")))}),[]);var y=function(e){var t=c.find((function(t){return t._id===e}));return null===t||void 0===t?void 0:t.name};return t&&!t.length?Object(N.jsx)("h4",{children:"No existen coincidencias..."}):Object(N.jsxs)("div",{className:"table table-bordered table-hover ",children:[Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Nombre"}),Object(N.jsx)("th",{children:"Apellido"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Telefono"}),Object(N.jsx)("th",{children:"Ciudad"}),Object(N.jsx)("th",{children:"Rol"})]}),t&&t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.surnames}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.phone}),Object(N.jsx)("td",{children:e.city}),Object(N.jsx)("td",{children:y(e.userRoleId)}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{onClick:function(){return s(e)},children:Object(N.jsx)(fe.a,{})})}),g._id!==e._id&&Object(N.jsx)("td",{children:Object(N.jsx)("button",{onClick:function(){return function(e,t){d(!0),h(e),f(t)}(e,t)},children:Object(N.jsx)(ve.a,{})})})]},t)}))]})}),Object(N.jsx)(ge,{show:l,setShowDeleteUserModal:d,confirmDelete:function(e,t){a(e,t),d(!1)},item:b,index:x})]})},we=(c(180),function(e){var t=e.show,c=e.onCloseModal,a=e.user,s=e.onUpdateUser,r=e.emailDuplicate,o=e.loading,l=Object(n.useState)(a.name),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(a.surnames),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(a.email),f=Object(i.a)(x,2),v=f[0],g=f[1],y=Object(n.useState)(a.phone),k=Object(i.a)(y,2),S=k[0],C=k[1],U=Object(n.useState)(a.city),_=Object(i.a)(U,2),I=_[0],q=_[1],A=Object(n.useState)([]),D=Object(i.a)(A,2),X=D[0],M=D[1],R=Object(n.useState)(),z=Object(i.a)(R,2),F=z[0],L=z[1],H=Object(n.useState)({}),V=Object(i.a)(H,2),B=V[0],J=V[1];Object(n.useEffect)((function(){p().then((function(e){M(e)})).catch((function(e){console.warn(e)}))}),[]),Object(n.useEffect)((function(){if(null===a||void 0===a?void 0:a.userRoleId){var e=X.find((function(e){return e._id===(null===a||void 0===a?void 0:a.userRoleId)}));L(null===e||void 0===e?void 0:e._id)}}),[a,X]);return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"update-form",children:[Object(N.jsx)("h1",{children:"Actualizar usuario"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"update-form-body",children:[Object(N.jsx)("input",{disabled:o,className:B.name&&"error",defaultValue:j,onChange:function(e){return u(e.target.value)}}),Object(N.jsx)("input",{disabled:o,className:B.surnames&&"error",defaultValue:m,onChange:function(e){return O(e.target.value)}}),Object(N.jsx)("input",{disabled:o,className:B.email&&"error",defaultValue:v,onChange:function(e){return g(e.target.value)}}),r&&Object(N.jsx)("span",{children:"El email ya esta en uso"}),Object(N.jsx)("input",{disabled:o,className:B.phone&&"error",defaultValue:S,onChange:function(e){return C(e.target.value)}}),Object(N.jsx)("input",{disabled:o,className:B.city&&"error",defaultValue:I,onChange:function(e){return q(e.target.value)}}),Object(N.jsxs)("select",{disabled:o,value:F,className:B.rol&&"error",onChange:function(e){return L(e.currentTarget.value)},children:[Object(N.jsx)("option",{disabled:!0,selected:!0,children:"--Tipo de usuario"}),X&&X.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"update-form-footer",children:[Object(N.jsx)("button",{disabled:o,onClick:function(){return c()},children:"Cerrar"}),Object(N.jsxs)("button",{disabled:o,onClick:function(){var e={};j&&T(j)||(e.hasError=!0,e.name=!0),m&&T(m)||(e.hasError=!0,e.surnames=!0),I&&T(I)||(e.hasError=!0,e.city=!0),S&&P(S)||(e.hasError=!0,e.phone=!0),v&&E(v)||(e.hasError=!0,e.email=!0),F||(e.hasError=!0,e.rol=!0),e.hasError?J(e):s({name:j,surnames:m,email:v,phone:S,city:I,_id:null===a||void 0===a?void 0:a._id,userRoleId:F})},children:[o&&Object(N.jsx)(w,{}),"Actualizar"]})]})]})})})}),ye=(c(181),c(85)),ke=c.n(ye),Se=(c(182),function(e){var t=e.searchQuery,c=e.setSearchQuery,n=e.action,a=e.placeholder;return Object(N.jsx)("div",{className:"my-search",children:Object(N.jsxs)("form",{action:n,method:"get",children:[Object(N.jsx)("label",{htmlFor:"header-search"}),Object(N.jsxs)("div",{className:"my-input",children:[Object(N.jsxs)("div",{className:"my-input-content",children:[Object(N.jsx)("input",{value:t,onInput:function(e){return c(e.target.value)},type:"text",id:"header-search",placeholder:a,name:"q"}),Object(N.jsx)("button",{type:"submit",children:Object(N.jsx)(ke.a,{style:{cursor:"pointer",width:"16px",color:"grey"},onClick:function(){return c("")}})})]}),Object(N.jsx)("button",{type:"submit",children:"Buscar"})]})]})})}),Ce=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),h=b[0],m=b[1],O=Object(n.useState)(!1),v=Object(i.a)(O,2),g=v[0],w=v[1],y=Object(n.useState)(),k=Object(i.a)(y,2),S=k[0],C=k[1],E=Object(n.useState)(!1),P=Object(i.a)(E,2),T=P[0],U=P[1],_=Object(n.useState)(!1),I=Object(i.a)(_,2),q=I[0],A=I[1],D=window.location.search,X=new URLSearchParams(D).get("q"),M=Object(n.useState)(X||""),R=Object(i.a)(M,2),z=R[0],F=R[1];Object(n.useEffect)((function(){Promise.all([new Promise((function(e,t){j.a.get("".concat(u,"/user")).then((function(t){e(t.data)})).catch((function(e){t(e)}))})),p()]).then((function(e){a(e[0]),l(e[1])})).catch((function(e){console.warn(e)}))}),[g]);var L=function(){m(!1),w(!1),U(!1),C()},H=function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e}(c,X);return Object(N.jsxs)("div",{className:"users-container",children:[Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("h1",{children:"Usuarios"}),Object(N.jsx)("button",{onClick:function(){return m(!0)},children:"Crear usuario"})]}),Object(N.jsx)(Se,{searchQuery:z,setSearchQuery:F,action:"/backofficeUser",placeholder:"Usuario"}),Object(N.jsx)(Ne,{users:H,roles:o&&o,onDeleteUser:function(e,t){var n;(n=e._id,new Promise((function(e,t){j.a.delete("".concat(u,"/user/").concat(n)).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))).then((function(e){var n=Object(me.a)(c);n.splice(t,1),a(n)})).catch((function(e){console.warn(e)}))},onSelectUser:function(e){C(e),w(!0)}}),h&&Object(N.jsx)(Oe,{show:h,onCloseModal:L,onCreateUser:function(e){var t=e.name,n=e.surnames,s=e.email,r=e.password,i=e.phone,o=e.city,l=e.userRoleId;t&&n&&s&&r&&i&&o&&l&&(A(!0),x(e).then((function(e){var t=Object(me.a)(c);t.push(e),a(t),m(!1)})).catch((function(e){e.response.data.message.includes("email")?U(!0):console.warn(e)})).finally((function(){A(!1)})))},emailDuplicate:T,loading:q}),g&&Object(N.jsx)(we,{show:g,onCloseModal:L,user:S,onUpdateUser:function(e){var t=e.name,n=e.surnames,s=e.email,r=e.phone,i=e.city,o=e._id,l=e.userRoleId;t&&n&&s&&r&&i&&o&&l&&(A(!0),f(e).then((function(e){w(!1);var t=Object(me.a)(c),n=t.findIndex((function(e){return e._id===S._id}));t.splice(n,e),a(t)})).catch((function(e){e.response.data.message.includes("email")?U(!0):console.warn(e)})).finally((function(){A(!1)})))},emailDuplicate:T,loading:q})]})},Ee=(c(183),c(184),function(e){var t=e.onChange,c=e.error,a=e.value,s=Object(n.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1];Object(n.useEffect)((function(){if((null===a||void 0===a?void 0:a.length)&&"string"===typeof a){var e=a.split(",");l(e)}}),[a]);var h=function(e){t&&t(e)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:"Pulsa enter para a\xf1adir artista"}),Object(N.jsx)("div",{className:"input-container",children:Object(N.jsxs)("div",{style:c&&{border:"2px solid red"},className:"input-tag-container",children:[Object(N.jsx)("input",{placeholder:"Artistas",onKeyDown:function(e){if("Enter"===e.key&&""!==u){var t=[].concat(Object(me.a)(o),[u]);l(t),h(t),b("")}},onChange:function(e){return b(e.target.value)},value:u}),(null===o||void 0===o?void 0:o.length)?o.map((function(e,t){return Object(N.jsxs)("div",{className:"input-tag",children:[Object(N.jsx)("span",{children:e}),Object(N.jsx)(oe.a,{onClick:function(){return function(e){var t=o.filter((function(t,c){return c!==e}));l(t),h(t),l(t)}(t)}})]},t)})):null]})})]})}),Pe=function(e){var t=e.show,c=e.onCloseModal,a=e.onCreateConcert,s=e.loading,r=Object(n.useState)(),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(),O=Object(i.a)(m,2),x=O[0],f=O[1],p=Object(n.useState)(),v=Object(i.a)(p,2),g=v[0],y=v[1],k=Object(n.useState)(),S=Object(i.a)(k,2),C=S[0],E=S[1],P=Object(n.useState)(),_=Object(i.a)(P,2),I=_[0],q=_[1],A=Object(n.useState)([]),D=Object(i.a)(A,2),X=D[0],M=D[1],R=Object(n.useState)({}),z=Object(i.a)(R,2),F=z[0],L=z[1];return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"concert-form",children:[Object(N.jsx)("h1",{children:"Nuevo concierto"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"concert-body",children:[Object(N.jsx)("input",{disabled:s,className:F.name&&"error",placeholder:"Nombre",type:"text",onChange:function(e){return d(e.target.value)}}),Object(N.jsx)("input",{disabled:s,className:F.date&&"error",type:"date",onChange:function(e){return h(e.target.value)}}),Object(N.jsx)("input",{disabled:s,className:F.hour&&"error",type:"time",onChange:function(e){return f(e.target.value)}}),Object(N.jsx)("input",{disabled:s,className:F.city&&"error",placeholder:"Ciudad",type:"text",onChange:function(e){return y(e.target.value)}}),Object(N.jsx)("input",{disabled:s,className:F.tickets&&"error",placeholder:"Numero entradas",type:"number",onChange:function(e){return E(e.target.value)}}),Object(N.jsx)("input",{disabled:s,className:F.ticketPrice&&"error",placeholder:"Precio",type:"number",onChange:function(e){return q(e.target.value)}}),Object(N.jsx)(Ee,{onChange:function(e){return M(e)},error:F.artists})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"concert-footer",children:[Object(N.jsx)("button",{disabled:s,onClick:function(){return c()},children:"Cerrar"}),Object(N.jsxs)("button",{disabled:s,onClick:function(){var e={};l||(e.hasError=!0,e.name=!0),b||(e.hasError=!0,e.date=!0),x||(e.hasError=!0,e.hour=!0),g&&T(g)||(e.hasError=!0,e.city=!0),C&&U(C)||(e.hasError=!0,e.tickets=!0),I&&U(I)||(e.hasError=!0,e.ticketPrice=!0),X.length||(e.hasError=!0,e.artists=!0),e.hasError?L(e):a({name:l,date:b,hour:x,city:g,maxTickets:C,ticketPrice:I,artists:X})},children:[s&&Object(N.jsx)(w,{}),"Crear"]})]})]})})})},Te=(c(185),c(186),function(e){var t=e.concerts,c=e.onDeleteConcert,a=e.onSelectConcert,s=e.onPublicConcert,r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(),O=Object(i.a)(m,2),x=O[0],f=O[1];return t&&!t.length?Object(N.jsx)("h4",{children:"No existen coincidencias..."}):Object(N.jsxs)("div",{className:"table table-bordered table-hover",children:[Object(N.jsx)("table",{children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Nombre"}),Object(N.jsx)("th",{children:"Fecha"}),Object(N.jsx)("th",{children:"Hora"}),Object(N.jsx)("th",{children:"Ciudad"}),Object(N.jsx)("th",{children:"Entradas"}),Object(N.jsx)("th",{children:"Precio"}),Object(N.jsx)("th",{children:"Artistas"})]}),t&&t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:_(e.date)}),Object(N.jsx)("td",{children:e.hour}),Object(N.jsx)("td",{children:e.city}),Object(N.jsx)("td",{children:e.maxTickets}),Object(N.jsxs)("td",{children:[e.ticketPrice," \u20ac"]}),Object(N.jsx)("td",{style:{width:"200px"},children:(c=e.artists,c.map((function(e,t){return t===c.length-1?e:e+" - "})))}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{onClick:function(){return function(e,t){d(!0),h(e),f(t)}(e,t)},children:Object(N.jsx)(ve.a,{})})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{onClick:function(){return a(e)},children:Object(N.jsx)(fe.a,{})})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:e.published?"no-publish":"publish",onClick:function(){return s({_id:e._id,published:!e.published})},children:e.published?"quitar":"publicar"})})]},t);var c}))]})}),Object(N.jsx)(ge,{show:l,setShowDeleteUserModal:d,confirmDelete:function(e,t){c(e,t),d(!1)},item:b,index:x})]})}),Ue=(c(187),function(e){var t=e.show,c=e.onCloseModal,a=e.concert,s=e.onUpdateconcert,r=e.loading,o=Object(n.useState)(a.name),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(a.date),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(n.useState)(a.hour),x=Object(i.a)(O,2),f=x[0],p=x[1],v=Object(n.useState)(a.city),g=Object(i.a)(v,2),y=g[0],k=g[1],S=Object(n.useState)(a.maxTickets),C=Object(i.a)(S,2),E=C[0],P=C[1],_=Object(n.useState)(a.ticketPrice),I=Object(i.a)(_,2),q=I[0],A=I[1],D=Object(n.useState)(a.artists.join(",")),X=Object(i.a)(D,2),M=X[0],R=X[1],z=Object(n.useState)({}),F=Object(i.a)(z,2),L=F[0],H=F[1];return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,children:Object(N.jsxs)("div",{className:"update-form",children:[Object(N.jsx)("h1",{children:"Actualizar concierto"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"update-form-body",children:[Object(N.jsx)("input",{disabled:r,className:L.name&&"error",defaultValue:d,onChange:function(e){return j(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:L.date&&"error",defaultValue:h,type:"date",onChange:function(e){return m(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:L.hour&&"error",defaultValue:f,type:"time",onChange:function(e){return p(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:L.city&&"error",defaultValue:y,onChange:function(e){return k(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:L.tickets&&"error",defaultValue:E,onChange:function(e){return P(e.target.value)}}),Object(N.jsx)("input",{disabled:r,className:L.price&&"error",defaultValue:q,onChange:function(e){return A(e.target.value)}}),Object(N.jsx)(Ee,{onChange:function(e){return R(e)},error:L.artists,value:M})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"update-form-footer",children:[Object(N.jsx)("button",{disabled:r,onClick:function(){return c()},children:"Cerrar"}),Object(N.jsxs)("button",{disabled:r,onClick:function(){var e={};d||(e.hasError=!0,e.name=!0),h||(e.hasError=!0,e.date=!0),f||(e.hasError=!0,e.hour=!0),y&&T(y)||(e.hasError=!0,e.city=!0),E&&U(E)||(e.hasError=!0,e.tickets=!0),q&&U(q)||(e.hasError=!0,e.price=!0),M.length||(e.hasError=!0,e.artists=!0),e.hasError?H(e):s({name:d,date:h,hour:f,city:y,maxTickets:E,ticketPrice:q,artists:M,_id:null===a||void 0===a?void 0:a._id})},children:[" ",r&&Object(N.jsx)(w,{}),"Actualizar"]})]})]})})})}),_e=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(!1),h=Object(i.a)(d,2),m=h[0],x=h[1],f=Object(n.useState)(),p=Object(i.a)(f,2),v=p[0],g=p[1],w=Object(n.useState)(!1),y=Object(i.a)(w,2),k=y[0],S=y[1],C=Object(n.useState)(!1),E=Object(i.a)(C,2),P=E[0],T=E[1],U=window.location.search,_=new URLSearchParams(U).get("q"),I=Object(n.useState)(_||""),q=Object(i.a)(I,2),A=q[0],D=q[1];Object(n.useEffect)((function(){b().then((function(e){a(e)})).catch((function(e){console.warn(e)}))}),[k,P]);var X=function(){l(!1),x(!1),g()},M=function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e}(c,_);return Object(N.jsxs)("div",{className:"concerts-container",children:[Object(N.jsxs)("div",{className:"concert-header",children:[Object(N.jsx)("h1",{children:"Conciertos"}),Object(N.jsx)("button",{onClick:function(){return l(!0)},children:"Crear Concierto"})]}),Object(N.jsx)(Se,{searchQuery:A,setSearchQuery:D,action:"/backofficeConcert",placeholder:"Concierto"}),Object(N.jsx)(Te,{concerts:M,onPublicConcert:function(e){e.published,e._id;O(e).then((function(e){P||T(!0),T(!1)})).catch((function(e){console.warn(e)}))},onDeleteConcert:function(e,t){var n;(n=e._id,new Promise((function(e,t){j.a.delete("".concat(u,"/concert/").concat(n)).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))).then((function(e){var n=Object(me.a)(c);n.splice(t,1),a(n)})).catch((function(e){console.warn(e)}))},onSelectConcert:function(e){g(e),x(!0)}}),o&&Object(N.jsx)(Pe,{show:o,onCloseModal:X,onCreateConcert:function(e){var t=e.name,n=e.date,s=e.city,r=e.maxTickets,i=e.ticketPrice,o=e.artists,d=e.hour;t&&n&&s&&r&&i&&o&&d&&(S(!0),function(e){return new Promise((function(t,c){j.a.post("".concat(u,"/concert"),{concert:e}).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))}(e).then((function(e){var t=Object(me.a)(c);t.push(e),a(t),l(!1)})).catch((function(e){console.warn(e)})).finally((function(){S(!1)})))},loading:k}),m&&Object(N.jsx)(Ue,{show:m,onCloseModal:X,concert:v,onUpdateconcert:function(e){var t=e.name,n=e.date,s=e.hour,r=e.city,i=e.maxTickets,o=e.ticketPrice,l=e.artists,d=e._id;t&&n&&s&&r&&i&&o&&l&&d&&(S(!0),O(e).then((function(e){x(!1);var t=Object(me.a)(c),n=t.findIndex((function(e){return e._id===v._id}));t.splice(n,e),a(t)})).catch((function(e){console.warn(e)})).finally((function(){S(!1)})))},loading:k})]})},Ie=(c(188),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(i.a)(s,2),o=r[0],l=r[1],d=window.location.search,h=new URLSearchParams(d).get("q"),m=Object(n.useState)(h||""),O=Object(i.a)(m,2),x=O[0],f=O[1];Object(n.useEffect)((function(){Promise.all([b(),new Promise((function(e,t){j.a.get("".concat(u,"/sale")).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))]).then((function(e){a(e[0]),l(e[1])})).catch((function(e){console.warn(e)}))}));var p=function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e}(c,h);return Object(N.jsxs)("div",{className:"backoffice-sale-container",children:[Object(N.jsxs)("div",{className:"backoffice-sale-header",children:[Object(N.jsx)("h1",{children:"Ventas"}),Object(N.jsx)("button",{})]}),Object(N.jsx)(Se,{searchQuery:x,setSearchQuery:f,action:"/backofficeSale",placeholder:"Concierto"}),Object(N.jsx)("div",{className:"backoffice-sale-body",children:Object(N.jsx)("table",{className:"table table-bordered table-hover ",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Concierto"}),Object(N.jsx)("th",{children:"Fecha"}),Object(N.jsx)("th",{children:"Total entradas"}),Object(N.jsx)("th",{children:"Total vendidas"})]}),c&&p.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.date}),Object(N.jsx)("td",{children:e.maxTickets}),Object(N.jsxs)("td",{children:[" ",(c=null===e||void 0===e?void 0:e._id,c&&o?o.filter((function(e){return e.concertId===c})).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.quantity)}),0):0)]})]},t);var c}))]})})}),Object(N.jsx)("hr",{})]})}),qe=c(86),Ae=c.n(qe),De=(c(189),function(e){var t=e.isLoggedIn,c=e.logOut,a=e.user,s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],d=r[1],j=Object(o.k)(),u=Object(o.l)().pathname.split("/"),b=function(){var e;return"administrador"===(null===a||void 0===a||null===(e=a.userRoleId)||void 0===e?void 0:e.name)};return Object(N.jsxs)("div",{className:"custom-navbar",children:[Object(N.jsx)("img",{alt:"logo",src:v}),Object(N.jsx)("a",{className:"tittle",href:"/",children:Object(N.jsx)("b",{children:"ticketclick"})}),Object(N.jsxs)("div",{className:"navbar-links ".concat(l?"navbarOpen":""),children:[Object(N.jsx)("a",{className:""===u[1]?"active":"",href:"/",children:"Inicio"}),b()?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("a",{href:"/backofficeUser",children:"Usuarios"}),Object(N.jsx)("a",{href:"/backofficeConcert",children:"Conciertos"}),Object(N.jsx)("a",{href:"/backofficeSale",children:"Ventas"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("a",{className:"aboutUs"===u[1]?"active":"",href:"/aboutUs",children:"Sobre nosotros"}),Object(N.jsx)("a",{className:"contact"===u[1]?"active":"",href:"/contact",children:"Contacto"})]}),!b()&&t?Object(N.jsx)("a",{className:"user"===u[1]?"active":"",href:"/user",children:"Mi cuenta"}):"",t?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("button",{onClick:function(){return c(),void j.push("/")},children:"Cerrar sesi\xf3n"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("a",{href:"/login",children:"Accede"}),Object(N.jsx)("a",{href:"/register",children:"Registro"})]})]}),Object(N.jsx)("button",{className:"navbar-button",onClick:function(){return d(!l)},children:Object(N.jsx)(Ae.a,{})})]})}),Xe="administrador",Me=(c(190),function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(i.a)(s,2),l=r[0],d=r[1],j=Object(n.useState)(),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)(),O=Object(i.a)(m,2),f=O[0],g=O[1],y=Object(n.useState)(),S=Object(i.a)(y,2),C=S[0],U=S[1],_=Object(n.useState)(),I=Object(i.a)(_,2),q=I[0],A=I[1],D=Object(n.useState)([]),X=Object(i.a)(D,2),M=X[0],R=X[1],z=Object(n.useState)({}),F=Object(i.a)(z,2),L=F[0],H=F[1],V=Object(n.useState)(!1),B=Object(i.a)(V,2),J=B[0],Q=B[1],$=Object(n.useState)(!1),Z=Object(i.a)($,2),Y=Z[0],K=Z[1],W=Object(n.useState)(!1),G=Object(i.a)(W,2),ee=G[0],te=G[1],ce=Object(o.k)();Object(n.useEffect)((function(){p().then((function(e){R(e)})).catch((function(e){console.warn(e)}))}),[]);var ne=function(e){var t=e.name,c=e.surnames,n=e.city,a=e.phone,s=e.email,r=e.password,i=e.userRoleId;t&&c&&n&&a&&s&&r&&i&&(K(!0),H({}),x(e).then((function(){ce.push("/login")})).catch((function(e){e.response.data.message.includes("email")?Q(!0):console.warn(e)})).finally((function(){K(!1)})))},ae=function(e){"mousedown"===e.type?te(!0):te(!1)};return Object(N.jsx)("div",{className:"register-container",children:Object(N.jsxs)("div",{className:"register-form",children:[Object(N.jsx)("img",{alt:"img",src:v}),Object(N.jsx)("input",{disabled:Y,className:L.name&&"error",placeholder:"nombre",onChange:function(e){return a(e.target.value)}}),Object(N.jsx)("input",{disabled:Y,className:L.surnames&&"error",placeholder:"apellidos",onChange:function(e){return d(e.target.value)}}),Object(N.jsx)("input",{disabled:Y,className:L.city&&"error",placeholder:"ciudad",onChange:function(e){return h(e.target.value)}}),Object(N.jsx)("input",{disabled:Y,className:L.phone&&"error",placeholder:"telefono",onChange:function(e){return g(e.target.value)}}),J&&Object(N.jsx)("span",{style:{color:"red"},children:"El email ya existe"}),Object(N.jsx)("input",{disabled:Y,className:L.email&&"error",placeholder:"email",onChange:function(e){return U(e.target.value)}}),Object(N.jsx)("span",{children:"Minimo 8 caracteres y un n\xfamero"}),Object(N.jsxs)("div",{className:"input-password",style:L.password&&{border:"2px solid red"},children:[Object(N.jsx)("input",{type:ee?"text":"password",disabled:Y,placeholder:"contrase\xf1a",onChange:function(e){return A(e.target.value)}}),Object(N.jsx)(k.a,{onMouseDown:ae,onMouseUp:ae,style:{color:"grey",width:"20px",cursor:"pointer"}})]}),Object(N.jsxs)("button",{disabled:Y,onClick:function(){var e={};c&&T(c)||(e.hasError=!0,e.name=!0),l&&T(l)||(e.hasError=!0,e.surnames=!0),b&&T(b)||(e.hasError=!0,e.city=!0),f&&P(f)||(e.hasError=!0,e.phone=!0),C&&E(C)||(e.hasError=!0,e.email=!0),q&&function(e){return new RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/).test(e)}(q)||(e.hasError=!0,e.password=!0),e.hasError?H(e):ne({name:c,surnames:l,city:b,phone:f,email:C,password:q,userRoleId:M[1]._id})},children:[Y&&Object(N.jsx)(w,{}),"Registrar"]})]})})}),Re=(c(191),function(e){var t=e.show,c=e.onBuyTickets,a=e.numTickets,s=e.ticketPrice,r=e.onCloseModal,o=e.loading,l=e.disabled,d=Object(n.useState)(),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)([]),m=Object(i.a)(h,2),O=m[0],x=m[1],f=Object(n.useState)([]),p=Object(i.a)(f,2),v=p[0],g=p[1],y=Object(n.useState)(),k=Object(i.a)(y,2),S=k[0],C=k[1],E=Object(n.useState)({}),P=Object(i.a)(E,2),U=P[0],_=P[1],I=function(){x([]),g([]),C(),b()},q=function(){r(),I(),_({})};return Object(N.jsx)("div",{children:Object(N.jsx)(Z.a,{show:t,onHide:q,children:Object(N.jsxs)("div",{className:"my-modal-container",children:[Object(N.jsx)("div",{className:"my-modal-card",children:Object(N.jsx)("div",{className:"my-modal-map",children:Object(N.jsxs)("div",{className:"my-modal-card-content",children:[Object(N.jsx)("span",{children:"Visa Electron"}),Object(N.jsx)("div",{className:"chip"}),Object(N.jsxs)("div",{className:"my-modal-card-number",children:[Object(N.jsx)("span",{children:O.length?O.slice(0,4):"XXXX"}),Object(N.jsx)("span",{children:O.length?O.slice(4,8):"XXXX"}),Object(N.jsx)("span",{children:O.length?O.slice(8,12):"XXXX"}),Object(N.jsx)("span",{children:O.length?O.slice(12,16):"XXXX"})]}),Object(N.jsx)("div",{className:"my-modal-card-name",children:Object(N.jsx)("span",{children:u||"FULL NAME"})}),Object(N.jsxs)("div",{className:"my-modal-card-footer",children:[Object(N.jsx)("span",{children:v.length?v.slice(0,2)+"/"+v.slice(2,4):"01/02"}),Object(N.jsx)("span",{children:S?"cvv: ".concat(S):"cvv: XXX"}),Object(N.jsx)("div",{className:"my-modal-card-footer-logo"})]})]})})}),Object(N.jsxs)("div",{className:"my-modal-inputs",children:[Object(N.jsx)("label",{children:"Numero de targeta"}),Object(N.jsx)("input",{type:"number",disabled:l,className:U.targetNum&&"error",value:O,placeholder:"XXXX XXXX XXXX XXXX",onChange:function(e){return x(e.target.value.slice(0,16))}}),Object(N.jsx)("label",{children:"Nombre del titular"}),Object(N.jsx)("input",{disabled:l,className:U.name&&"error",value:u,placeholder:"Nombre Titular",onChange:function(e){return b(e.target.value)}}),Object(N.jsxs)("div",{className:"my-modal-inputs-two",children:[Object(N.jsxs)("div",{className:"my-modal-inputs-left",children:[Object(N.jsx)("label",{children:"Expira"}),Object(N.jsx)("input",{type:"number",disabled:l,className:U.date&&"error",value:v,placeholder:"MM/YY",onChange:function(e){return g(e.target.value.slice(0,4))}})]}),Object(N.jsxs)("div",{className:"my-modal-inputs-right",children:[Object(N.jsx)("label",{children:"Codigo seguridad"}),Object(N.jsx)("input",{type:"number",disabled:l,className:U.cvv&&"error",value:S,placeholder:"XXX",onChange:function(e){return C(e.target.value.slice(0,3))}})]})]})]}),Object(N.jsxs)("div",{className:"my-modal-buttons",children:[Object(N.jsxs)("button",{disabled:l,onClick:function(){var e,t={};u&&T(u)||(t.hasError=!0,t.name=!0),O&&(e=O,new RegExp(/^\d{16}$/).test(e))||(t.hasError=!0,t.targetNum=!0),v&&function(e){return new RegExp(/^\d{4}$/).test(e)}(v)||(t.hasError=!0,t.date=!0),S&&function(e){return new RegExp(/^\d{3}$/).test(e)}(S)||(t.hasError=!0,t.cvv=!0),t.hasError?_(t):(I(),c({targetNum:O,date:v,cvv:S,name:u}))},children:[o&&Object(N.jsx)(w,{}),"Pagar ".concat(a*s," \u20ac")]}),Object(N.jsx)("button",{disabled:l,onClick:q,children:"Cancelar pago"})]})]})})})}),ze=(c(192),c(52)),Fe=c.n(ze),Le=c(51),He=c.n(Le),Ve=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],Be=function(e){var t,c=e.maxTickets,a=e.onAreYouRegistered,s=e.concert,r=Object(n.useState)(1),o=Object(i.a)(r,2),l=o[0],d=o[1];return s?Object(N.jsxs)("div",{id:"entrada",className:"event-body-ticket",children:[Object(N.jsxs)("div",{className:"event-body-ticket-date",children:[Object(N.jsx)("h3",{children:(t=s.date,t.split("-")[2])}),Object(N.jsx)("span",{style:{color:"black"},children:s&&function(e){var t=e.split("-"),c=t[1];return Ve[Number(c)]+"-"+t[0]}(s.date)}),Object(N.jsx)("span",{children:s.hour})]}),Object(N.jsxs)("div",{className:"event-body-ticket-text",children:[Object(N.jsx)("h3",{children:s.name}),Object(N.jsx)("span",{children:s.city}),0===c?Object(N.jsx)("span",{children:"Entradas agotadas"}):Object(N.jsxs)("span",{children:["Quedan ",c," entradas"]})]}),0===c?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"event-body-ticket-num",children:[Object(N.jsx)("span",{children:Object(N.jsx)(He.a,{})}),Object(N.jsx)("input",{id:"cantidad",disabled:!0}),Object(N.jsx)("span",{children:Object(N.jsx)(Fe.a,{})})]})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"event-body-ticket-num",children:[Object(N.jsx)("span",{onClick:function(){var e;(e=l)>1&&d(e-1)},children:Object(N.jsx)(He.a,{})}),Object(N.jsx)("input",{id:"cantidad",type:"number",min:"1",max:c,disabled:!0,value:l,onChange:function(e){return d(e.target.value)}}),Object(N.jsx)("span",{onClick:function(){var e;c>(e=l)&&e<10&&d(e+1)},children:Object(N.jsx)(Fe.a,{})})]})}),Object(N.jsxs)("div",{className:"event-body-ticket-buy",children:[Object(N.jsxs)("span",{children:[s.ticketPrice," Euros"]}),0===c?Object(N.jsx)("button",{className:"button-disabled",disabled:!0,children:"Agotadas"}):Object(N.jsx)("button",{onClick:function(){return a(l)},children:"Comprar"})]})]}):Object(N.jsx)("div",{children:"Cargando..."})},Je=(c(193),c(53)),Qe=(c(194),c(195),function(e){var t=e.imagesUrl;if(!t||!t.length){var c=[C,C,C,C].map((function(e){return{src:e}}));return Object(N.jsx)("div",{className:"carousel-container",children:Object(N.jsx)(Je.a,{images:c,style:{height:400,width:750}})})}var n=t.map((function(e){return{src:e}}));return Object(N.jsx)("div",{className:"carousel-container",children:Object(N.jsx)(Je.a,{images:n,style:{height:400,width:750}})})}),$e=c(87),Ze=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(n.useState)(1),O=Object(i.a)(b,2),x=O[0],f=O[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),g=v[0],w=v[1],y=Object(n.useState)(!1),k=Object(i.a)(y,2),S=k[0],E=k[1],P=Object(n.useState)(!1),T=Object(i.a)(P,2),U=T[0],_=T[1],I=Object(n.useState)(!1),q=Object(i.a)(I,2),A=q[0],D=q[1],X=new URLSearchParams(Object(o.l)().search),M=Object(o.k)();Object(n.useEffect)((function(){var e=X.get("id");Promise.all([h(e),m(e)]).then((function(e){a(e[0]),d(e[1])})).catch((function(e){console.warn(e)}))}),[]);var R;return Object(N.jsxs)("div",{className:"event-container",children:[Object(N.jsxs)("div",{className:"event-header",children:[Object(N.jsx)("div",{className:"event-header-left",children:Object(N.jsxs)("div",{className:"event-header-left-info",children:[Object(N.jsx)("h1",{children:c&&c.name}),Object(N.jsxs)("span",{children:[c&&(R=c.date,R.split("-").reverse().join("-"))," a las ",c&&c.hour,"h"]}),Object(N.jsxs)("span",{children:["Precio \u20ac ",c&&c.ticketPrice]}),Object(N.jsx)($e.Link,{to:"entrada",spy:!0,children:"Comprar entrada"})]})}),Object(N.jsx)("div",{className:"event-header-right",children:c&&c.imageUrl?Object(N.jsx)("img",{alt:"img",src:c.imageUrl}):Object(N.jsx)("img",{alt:"img",src:C})})]}),Object(N.jsxs)("div",{className:"event-body-info",children:[Object(N.jsx)("h2",{children:"Informacion del evento"}),Object(N.jsx)("div",{className:"line"}),Object(N.jsx)("p",{children:"Cu nam labores lobortis definiebas, ei aliquyam salutatus persequeris quo, cum eu nemore fierent dissentiunt. Per vero dolor id, vide democritum scribentur eu vim, pri erroribus temporibus ex. Euismod molestie offendit has no. Quo te semper invidunt quaestio, per vituperatoribus sadipscing ei, partem aliquyam sensibus in cum."}),Object(N.jsx)("div",{id:"entrada"}),Object(N.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi."}),Object(N.jsx)("p",{children:"Virtute equidem ceteros in mel. Id volutpat neglegentur eos. Eu eum facilisis voluptatum, no eam albucius verterem. Sit congue platonem adolescens ut. Offendit reprimique et has, eu mei homero imperdiet."})]}),Object(N.jsx)(Be,{setNumTickets:f,maxTickets:l,onAreYouRegistered:function(e){localStorage.getItem("user")&&localStorage.getItem("token")?(w(!0),f(e)):M.push("/login",{previousUrl:"/concert/?id=".concat(c._id)})},numTickets:x,concert:c}),Object(N.jsx)(Qe,{imagesUrl:c&&c.images}),Object(N.jsx)(Re,{show:g,onCloseModal:function(){w(!1)},onBuyTickets:function(e){var t=e.name,n=e.targetNum,a=e.date,s=e.cvv;if(t&&n&&a&&s){_(!0),D(!0);var r=JSON.parse(localStorage.getItem("user"));(function(e){return new Promise((function(t,c){j.a.post("".concat(u,"/sale"),{sale:e}).then((function(e){t(e.data)})).catch((function(e){c(e)}))}))})({quantity:x,unitPrice:c.ticketPrice,concertId:c._id,userId:r._id}).then((function(e){w(!1),d(l-x),E(!0)})).catch((function(e){console.warn(e)})).finally((function(){_(!1),D(!1)}))}},numTickets:x,ticketPrice:c&&c.ticketPrice,loading:U,disabled:A}),Object(N.jsx)(se,{tittle:"Gracias por su compra!",show:S,setShowAlert:E,onRedirect:function(){M.push("/user",{redirectToTickets:!0})}}),Object(N.jsx)(J,{})]})},Ye=(c(203),function(){return Object(N.jsxs)("div",{className:"aboutUs-container",children:[Object(N.jsx)("div",{className:"aboutUs-img"}),Object(N.jsxs)("div",{className:"aboutUs",children:[Object(N.jsx)("h3",{children:"Sobre nosotros"}),Object(N.jsx)("p",{children:"Ticketclick es la empresa espa\xf1ola l\xedder en la venta de entradas. Somos referentes en el mundo del ocio y la cultura, y ofrecemos la mayor variedad de enventos: m\xfasica, teatro, musicales, cine, deporte, parques, ocio infantil, museos, exposiciones, circo, shows y todo tipo de espect\xe1culos. Todas nuestras entradas son oficiales y distribuidas seg\xfan acuerdos comerciales directos con los promotores / organizadores de los eventos."}),Object(N.jsx)("p",{children:"Desde 2010 la empresa ha gestionado la venta y distribuci\xf3n de entradas para los conciertos y festivales m\xe1s destacables a nivel nacional e internacional: Bruce Springsteen, Madonna, U2, Rolling Stones, Bon Jovi, Metallica, The Police, Festival S\xf3nar o Festival Internacional de Benic\xe0ssim, entre muchos otros."}),Object(N.jsx)("p",{children:"Ticketclick es la compa\xf1\xeda l\xedder en el mundo de eventos en directo y comercio electr\xf3nico, y est\xe1 comprendida por cuatro l\xedderes de mercado: Ticketclick, Live Nation Concerts, Artist Nation and Live Nation Network. Ticketclick es la empresa l\xedder global en la venta de entradas para eventos y uno de los cinco primeros sitios de comercio electr\xf3nico, con m\xe1s de 119 millones de fans que visitan nuestras webs. Live Nation Concerts produce m\xe1s de 22.000 shows anuales para m\xe1s de 2.300 artistas en el mundo. Artist Nation es la compa\xf1\xeda top de management de artistas, representando a m\xe1s de 200 artistas. Live Nation Network es el proveedor l\xedder de soluciones de marketing de entretenimiento logrando que m\xe1s de 800 anunciantes lleguen a 250 millones de consumidores a trav\xe9s de eventos en vivo y las plataformas digitales."})]}),Object(N.jsx)("h3",{children:"Equipo"}),Object(N.jsxs)("div",{className:"about-us-section-wrapper",children:[Object(N.jsx)("div",{className:"about-us-img-wrapper",children:Object(N.jsx)("div",{className:"about-us-img"})}),Object(N.jsx)("div",{className:"about-us-text",children:Object(N.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla faci"})})]}),Object(N.jsxs)("div",{className:"about-us-section-wrapper",children:[Object(N.jsx)("div",{className:"about-us-img-wrapper",children:Object(N.jsx)("div",{className:"about-us-img2"})}),Object(N.jsx)("div",{className:"about-us-text",children:Object(N.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla faci"})})]}),Object(N.jsxs)("div",{className:"about-us-section-wrapper",children:[Object(N.jsx)("div",{className:"about-us-img-wrapper",children:Object(N.jsx)("div",{className:"about-us-img3"})}),Object(N.jsx)("div",{className:"about-us-text",children:Object(N.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla faci"})})]}),Object(N.jsx)(J,{})]})}),Ke=c(88),We=c.n(Ke),Ge=(c(204),c(205),c(89)),et=c.n(Ge),tt=c(90),ct=c.n(tt),nt=c(91),at=c.n(nt),st=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)({}),m=Object(i.a)(h,2),O=m[0],x=m[1],f=Object(n.useState)(!1),p=Object(i.a)(f,2),g=p[0],w=p[1];Object(n.useEffect)((function(){a(""),l(""),b("")}),[O]);return Object(N.jsxs)("div",{className:"contact-container",children:[Object(N.jsx)("div",{className:"contact-img",children:Object(N.jsx)("h1",{children:"CONT\xc1CTANOS"})}),Object(N.jsxs)("div",{className:"contact-body",children:[Object(N.jsxs)("div",{className:"contact-message",children:[Object(N.jsx)("div",{className:O.name?"error":"contact-input",children:Object(N.jsx)("input",{placeholder:"Nombre",value:c,onChange:function(e){return a(e.target.value)}})}),Object(N.jsx)("div",{className:O.phone?"error":"contact-input",children:Object(N.jsx)("input",{placeholder:"Telefono",value:o,onChange:function(e){return l(e.target.value)}})}),Object(N.jsx)("div",{className:"contact-input",children:Object(N.jsx)("textarea",{placeholder:"Mensaje",value:u,onChange:function(e){return b(e.target.value)}})}),Object(N.jsx)("div",{className:"contact-message-send",children:Object(N.jsx)("a",{style:{color:"white"},onClick:function(){var e={};c&&T(c)||(e.hasErr=!0,e.name=!0),o&&P(o)||(e.hasErr=!0,e.phone=!0),e.hasErr?(x(e),w(!1)):(w(!0),x({}))},href:g?"mailto:sales@ticketClick.com?subject=Contactacto: ".concat(c,"&body= Telephone: ").concat(o," %0D%0A%0D%0A Message: ").concat(u," %0D%0A%0D%0A"):null,children:"Enviar mensaje"})})]}),Object(N.jsxs)("div",{className:"contact-info",children:[Object(N.jsx)("div",{className:"contact-info-logo",children:Object(N.jsx)("img",{alt:"img",src:v})}),Object(N.jsxs)("div",{className:"contact-info-telephones",children:[Object(N.jsxs)("div",{className:"contact-info-telephone",children:[Object(N.jsx)(et.a,{className:"icon"}),Object(N.jsx)("span",{children:"+34-971-472-145"})]}),Object(N.jsxs)("div",{className:"contact-info-mobile",children:[Object(N.jsx)(ct.a,{className:"icon"}),Object(N.jsx)("a",{href:"tel:+34649211654",children:"+34-649-211-654"})]})]}),Object(N.jsxs)("div",{className:"contact-info-email",children:[Object(N.jsx)(B.a,{className:"icon"}),Object(N.jsx)("a",{href:"mailto:sales@TicketClick.com",children:"Email: sales@TicketClick.com"})]}),Object(N.jsxs)("div",{className:"contact-info-location",children:[Object(N.jsx)(D.a,{href:"https://www.google.com/maps/@-33.7555248,150.6036152,17.26z",children:Object(N.jsx)(at.a,{className:"icon"})}),Object(N.jsx)(D.a,{href:"https://www.google.com/maps/@-33.7555248,150.6036152,17.26z",children:Object(N.jsx)("span",{children:"Calle Wallaby 42"})}),Object(N.jsx)(D.a,{href:"https://www.google.com/maps/@-33.7555248,150.6036152,17.26z",children:Object(N.jsx)("span",{children:"Bloque 2,local 1, 07600"})}),Object(N.jsx)(D.a,{href:"https://www.google.com/maps/@-33.7555248,150.6036152,17.26z",children:Object(N.jsx)("span",{children:"sidney"})})]})]})]}),Object(N.jsx)("iframe",{title:"sede",width:"100%",height:"600",id:"gmap_canvas",src:"https://maps.google.com/maps?q=Select%20Mortgage%20Finance,%20Coughlan%20Road,%20Blaxland%20Nueva%20Gales%20del%20Sur,%20Australia&t=&z=15&ie=UTF8&iwloc=&output=embed",scrolling:"no"}),Object(N.jsx)(J,{})]})},rt=(c(206),function(e){var t=e.handleCookie,c=e.onHide;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"cookie-container",children:[Object(N.jsx)("div",{className:"cookie-text",children:Object(N.jsx)("p",{children:"Utilizamos cookies e identificadores propios y de terceros con tu consentimiento y/o nuestro inter\xe9s leg\xedtimo, con el prop\xf3sito de almacenar o acceder a informaci\xf3n en tu dispositivo, recabar datos personales sobre la audiencia para desarrollar y mejorar productos as\xed como mostrar y medir anuncios propios y/o de terceros y/o contenido personalizados bas\xe1ndonos en tu navegaci\xf3n (por ejemplo p\xe1ginas visitadas)."})}),Object(N.jsxs)("div",{className:"cookie-buttons",children:[Object(N.jsx)("button",{onClick:t,children:"Aceptar"}),Object(N.jsx)("button",{onClick:c,children:"Cancelar"})]})]}),Object(N.jsx)("div",{className:"cookie-background"})]})}),it=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),d=Object(i.a)(s,2),j=d[0],u=d[1];Object(n.useEffect)((function(){var e=new Date(Date.now()),t=localStorage.getItem("cookiesAccepted");e>Date.parse(t)?localStorage.removeItem("cookiesAccepted"):localStorage.getItem("cookiesAccepted")&&u(!0)}),[]);var b=function(e){var t=Object(r.a)({},c);return Object.keys(t).length||(t=JSON.parse(localStorage.getItem("user")),a(t)),t&&t.userRoleId&&t.userRoleId.name===Xe?e:Object(N.jsx)(o.c,{to:"/"})};return Object(N.jsxs)(l.BrowserRouter,{children:[Object(N.jsx)(De,{isLoggedIn:!(!localStorage.getItem("user")||!localStorage.getItem("token")),user:c,logOut:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),a(null)}}),!j&&Object(N.jsx)(rt,{handleCookie:function(){return function(){var e=new Date(Date.now()+31536e6);localStorage.setItem("cookiesAccepted",e),u(!0)}()},onHide:function(){u(!0)}}),Object(N.jsx)(We.a,{}),Object(N.jsxs)(o.g,{children:[Object(N.jsx)(o.d,{exact:!0,path:"/",component:Q}),Object(N.jsx)(o.d,{exact:!0,path:"/login",render:function(){return localStorage.getItem("user")?Object(N.jsx)(o.c,{to:"/"}):Object(N.jsx)(S,{})}}),Object(N.jsx)(o.d,{exact:!0,path:"/register",component:Me}),Object(N.jsx)(o.d,{exact:!0,path:"/user",render:function(){return e=Object(N.jsx)(he,{}),localStorage.getItem("user")?e:Object(N.jsx)(o.c,{to:"/login"});var e}}),Object(N.jsx)(o.d,{exact:!0,path:"/backofficeUser",render:function(){return b(Object(N.jsx)(Ce,{}))}}),Object(N.jsx)(o.d,{exact:!0,path:"/backofficeConcert",render:function(){return b(Object(N.jsx)(_e,{}))}}),Object(N.jsx)(o.d,{exact:!0,path:"/backofficeSale",render:function(){return b(Object(N.jsx)(Ie,{}))}}),Object(N.jsx)(o.d,{path:"/concert",component:Ze}),Object(N.jsx)(o.d,{exact:!0,path:"/aboutUs",component:Ye}),Object(N.jsx)(o.d,{exact:!0,path:"/contact",component:st})]})]})};c(207);s.a.render(Object(N.jsx)(it,{}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.30bf3f34.chunk.js.map